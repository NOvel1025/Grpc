FROM centos:7

ENV LANG="ja_JP.UTF-8"
ENV HTTP_PROXY http://proxy.jec.ac.jp:8080/
RUN echo proxy=http://proxy.jec.ac.jp:8080/ >> /etc/yum.conf
RUN yum install -yt --nogpgcheck java-11-openjdk
RUN yum install -yt --nogpgcheck java-11-openjdk-devel
RUN yum install -yt --nogpgcheck zip unzip
RUN mv /usr/bin/java /usr/bin/.real_java
RUN echo "/usr/bin/.real_java -Dfile.encoding=UTF-8 \$*" > /usr/bin/java
RUN echo "/usr/bin/javac -encoding UTF-8 \$*" > /usr/bin/javacu
RUN echo "/usr/bin/javac -encoding Shift_JIS \$*" > /usr/bin/javacs
RUN chmod 777 /usr/bin/java*